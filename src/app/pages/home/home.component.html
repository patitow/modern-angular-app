<section class="home">
  <h2>Home</h2>
  <div class="user-form-list">
    <main>
      <form [formGroup]="demoForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Nome</mat-label>
          <input matInput type="text" formControlName="name" placeholder="Digite seu nome" />
          <mat-error *ngIf="demoForm.get('name')?.invalid && demoForm.get('name')?.touched">
            Nome é obrigatório.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" placeholder="Digite seu email" />
          <mat-error *ngIf="demoForm.get('email')?.invalid && demoForm.get('email')?.touched">
            Email é obrigatório ou inválido.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Endereço</mat-label>
          <input matInput type="text" formControlName="address" placeholder="Digite seu endereço" />
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit" [disabled]="demoForm.invalid">
          Enviar
        </button>
      </form>
    </main>

    <!-- Lista de usuários criados -->
    <aside class="users-list">
      <h3>Lista de Usuários Criados</h3>
      <div class="users-container">
        <mat-card *ngFor="let user of users()" class="user-card">
          <mat-card-header>
            <mat-card-title>{{ user.name }}</mat-card-title>
            <mat-card-subtitle>{{ user.email }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p><strong>Endereço:</strong> {{ user.address }}</p>
          </mat-card-content>
        </mat-card>
      </div>
    </aside>
  </div>

  <p *ngIf="submittedName() != ''">
    Usuário <b>{{ submittedName() }}</b> adicionado.
  </p>

  <app-counter></app-counter>
</section>
